import{j as t}from"./jsx-runtime.DVTPKKJG.js";import{d as Y,S as j,t as M,r as D,c as E,m as F,a as $,b as L,h as V,p as X}from"./viewport.dwDSCfVA.js";import{p as h,a as _}from"./scrollInfo.BZ2LyzYx.js";import{u as o}from"./react.BB0h0oUd.js";import{r as l}from"./index.Wp2u197Z.js";import{m as S,a as Z,s as q}from"./config.AGZYjrvX.js";import{c as m}from"./clsx.B-dksMZM.js";import{r as G}from"./index.CkeTH89P.js";import{A as u}from"./index.DZDwMZsD.js";import{m as a}from"./proxy.DooHrIcH.js";import{R as J,T as K,P as Q,O as U,C as W}from"./index.Cxw4oSH7.js";import"./SVGVisualElement.CBU4GYSh.js";function ee(e,n){for(var s=-1,r=e==null?0:e.length,i=Array(r);++s<r;)i[s]=n(e[s],s,e);return i}var te=Array.isArray,g=j?j.prototype:void 0,y=g?g.toString:void 0;function I(e){if(typeof e=="string")return e;if(te(e))return ee(e,I)+"";if(Y(e))return y?y.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}var b=1/0,ne=17976931348623157e292;function se(e){if(!e)return e===0?e:0;if(e=M(e),e===b||e===-b){var n=e<0?-1:1;return n*ne}return e===e?e:0}function re(e){var n=se(e),s=n%1;return n===n?s?n-s:n:0}function v(e){return e==null?"":I(e)}var ie=D.isFinite,oe=Math.min;function ae(e){var n=Math[e];return function(s,r){if(s=M(s),r=r==null?0:oe(re(r),292),r&&ie(s)){var i=(v(s)+"e").split("e"),f=n(i[0]+"e"+(+i[1]+r));return i=(v(f)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return n(s)}}var ce=ae("floor");const d=60;function le(){const e=o(h);return e>=d*2?1:e<=d?0:ce((e-d)/d,2)}function A(){return o(V)}function de(){return o(h)<d}function k(){return o(E)}function p(){const e=A(),n=o(h);return e&&n>=d}function ue(){const e=o(F),n=o($),s=o(L);return{title:e,description:n,slug:s}}function xe(){return o(X)}function me(){const e=o(h),n=o(_);return A()&&e>=400&&n==="up"}function he(){const e=le();return t.jsx("div",{className:"absolute inset-0 -z-1 border-b border-primary bg-white/70 dark:bg-zinc-800/70 backdrop-saturate-150 backdrop-blur-lg transform-gpu",style:{opacity:e}})}function fe({to:e=document.body,children:n}){return G.createPortal(n,e)}function pe(){return t.jsxs(t.Fragment,{children:[t.jsx(je,{}),t.jsx(ge,{})]})}function je(){const e=de(),n=p();return t.jsx(u,{children:!n&&t.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsx(z,{isBgShow:e})})})}function ge(){const e=me();return t.jsx(fe,{children:t.jsx(u,{children:e&&t.jsx(a.div,{className:"fixed z-10 top-12 inset-x-0 flex justify-center pointer-events-none",initial:{y:-20},animate:{y:0},exit:{y:-20,opacity:0},children:t.jsx(z,{isBgShow:!0})})})})}function z({isBgShow:e}){const n=xe(),[s,r]=l.useState(0),[i,f]=l.useState(0),[H,B]=l.useState(0),O=`radial-gradient(${H}px circle at ${s}px ${i}px, rgb(var(--color-accent) / 0.12) 0%, transparent 65%)`,R=({clientX:c,clientY:P,currentTarget:T})=>{const x=T.getBoundingClientRect();r(c-x.left),f(P-x.top),B(Math.sqrt(x.width**2+x.height**2)/2.5)};return t.jsxs("nav",{className:m("relative rounded-full group pointer-events-auto duration-200",{"bg-gradient-to-b from-zinc-50/70 to-white/90 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur-md dark:from-zinc-900/70 dark:to-zinc-800/90 dark:ring-zinc-100/10":e}),onMouseMove:R,children:[t.jsx("div",{className:"absolute -z-1 -inset-px rounded-full opacity-0 group-hover:opacity-100 duration-500",style:{background:O},"aria-hidden":!0}),t.jsx("div",{className:"text-sm px-4 flex",children:S.map(c=>t.jsx(ye,{href:c.link,title:c.name,icon:c.icon,isActive:n===c.link},c.name))})]})}function ye({href:e,isActive:n,title:s,icon:r}){return t.jsxs("a",{className:m("relative block px-4 py-1.5",n?"text-accent":"hover:text-accent"),href:e,children:[t.jsxs("div",{className:"flex space-x-2",children:[n&&t.jsx(a.i,{className:m("iconfont",r),initial:{y:10,opacity:0},animate:{y:0,opacity:1}}),t.jsx("span",{children:s})]}),n&&t.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gradient-to-r from-transparent via-accent/70 to-transparent"})]})}function N(){const e=k(),n=p();return e?t.jsx(u,{children:!n&&t.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsx(w,{})})}):t.jsx(w,{})}function w(){return t.jsx("a",{className:"block",href:"/",title:"Nav to home",children:t.jsx("img",{className:"size-[40px] select-none object-cover rounded-2xl",src:Z.avatar,alt:"Site owner avatar"})})}function be(){const{title:e,description:n,slug:s}=ue(),r=p();return t.jsx(u,{children:r&&t.jsxs(a.div,{className:"absolute inset-0 z-1 flex items-center justify-between md:px-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[t.jsxs("div",{className:"grow min-w-0",children:[t.jsx("div",{className:"text-secondary text-xs truncate",children:n}),t.jsx("h2",{className:"truncate text-lg",children:e})]}),t.jsxs("div",{className:"hidden md:block min-w-0 text-right",children:[t.jsx("div",{className:"text-secondary text-xs truncate",children:s}),t.jsx("div",{children:q.title})]})]})})}const ve={hidden:{x:"-100%",transition:{duration:.2,ease:"easeOut"}},visible:{x:0,transition:{staggerChildren:.1,delayChildren:.1,duration:.2,ease:"easeOut"}}},Ne={hidden:{opacity:0,x:"-100%"},visible:{opacity:1,x:0}};function we({zIndex:e=999}){const[n,s]=l.useState(!1),r=e-1,i=e;return t.jsxs(J,{open:n,onOpenChange:s,children:[t.jsx(K,{asChild:!0,children:t.jsx(Me,{})}),t.jsx(u,{children:n&&t.jsxs(Q,{forceMount:!0,children:[t.jsx(U,{asChild:!0,children:t.jsx(a.div,{className:"fixed inset-0 bg-gray-800/40",style:{zIndex:r},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{delay:.1}}})}),t.jsx(W,{asChild:!0,children:t.jsx(a.div,{className:"fixed left-0 inset-y-0 h-full bg-primary rounded-r-lg p-4 flex flex-col justify-center w-[260px] max-w-[80%]",style:{zIndex:i},variants:ve,initial:"hidden",animate:"visible",exit:"hidden",children:t.jsx(C.Provider,{value:{dismiss(){s(!1)}},children:t.jsx(Se,{})})})})]})})]})}const Me=l.forwardRef((e,n)=>t.jsx("button",{ref:n,className:"size-9 rounded-full shadow-lg shadow-zinc-800/5 border border-primary bg-white/50 dark:bg-zinc-800/50 backdrop-blur",type:"button","aria-label":"Open menu",...e,children:t.jsx("i",{className:"iconfont icon-menu"})}));function Se(){const{dismiss:e}=l.useContext(C);return t.jsx("ul",{className:"mt-8 pb-8 overflow-y-auto overflow-x-hidden min-h-0",children:S.map(n=>t.jsx(a.li,{variants:Ne,children:t.jsxs("a",{className:"inline-flex p-2 space-x-4",href:n.link,onClick:e,children:[t.jsx("i",{className:m("iconfont",n.icon)}),t.jsx("span",{children:n.name})]})},n.name))})}const C=l.createContext(null);function De(){const e=k();return t.jsxs("header",{className:"fixed top-0 inset-x-0 h-[64px] z-10 overflow-hidden",children:[t.jsx(he,{}),t.jsxs("div",{className:"max-w-[1100px] h-full md:px-4 mx-auto grid grid-cols-[64px_auto_64px]",children:[t.jsx("div",{className:"flex items-center justify-center",children:e?t.jsx(we,{}):t.jsx(N,{})}),t.jsxs("div",{className:"relative flex items-center justify-center",children:[e?t.jsx(N,{}):t.jsx(pe,{}),t.jsx(be,{})]})]})]})}export{De as Header};
